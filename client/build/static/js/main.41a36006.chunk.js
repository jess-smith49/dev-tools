(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{106:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),i=t(79),o=t.n(i),s=(t(94),t(95),t(107)),c=t(89),l=t(29),u=t(10),d=t(80),j=t(81),b=t(58),m=new(function(){function e(){Object(d.a)(this,e)}return Object(j.a)(e,[{key:"getProfile",value:function(){return Object(b.a)(this.getToken())}},{key:"loggedIn",value:function(){var e=this.getToken();return!!e&&!this.isTokenExpired(e)}},{key:"isTokenExpired",value:function(e){try{return Object(b.a)(e).exp<Date.now()/1e3}catch(n){return!1}}},{key:"getToken",value:function(){return localStorage.getItem("id_token")}},{key:"login",value:function(e){localStorage.setItem("id_token",e),window.location.assign("/")}},{key:"logout",value:function(){localStorage.removeItem("id_token"),window.location.assign("/")}}]),e}()),h=t(5);function p(){return Object(h.jsxs)("header",{className:"header-container",children:[Object(h.jsx)("div",{className:"flex-wrap",children:Object(h.jsx)("h1",{children:"Dev Tools"})}),Object(h.jsx)("nav",{children:m.loggedIn()?Object(h.jsx)("ul",{children:Object(h.jsx)("li",{children:Object(h.jsx)("a",{href:"/",onClick:function(){return m.logout()},children:"Logout"})})}):Object(h.jsxs)("ul",{children:[Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/signup",children:"Signup"})}),Object(h.jsx)("li",{children:Object(h.jsx)(l.b,{to:"/login",children:"Login"})})]})})]})}function g(){return Object(h.jsx)("footer",{className:"footer-container",children:Object(h.jsx)("div",{className:"footer-text",children:"A JMJM Build"})})}var O,f,v,w,x,k,S=t(38),y=t.n(S),N=t(50),$=t(37),C=t(33),_=t(40),q=t(35),W=t(31),I=t.n(W),T=I()(O||(O=Object(q.a)(["\n    mutation login($email: String!, $password: String!) {\n        login(email: $email, password: $password) {\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),U=I()(f||(f=Object(q.a)(["\n    mutation addUser($username: String!, $email: String!, $password: String!){\n        addUser(username: $username, email: $email, password: $password){\n            token\n            user {\n                _id\n                username\n            }\n        }\n    }\n"]))),A=(I()(v||(v=Object(q.a)(["\n    mutation addSet($setName: String!){\n        addSet(setName: $setName) {\n            set {\n                _id\n                setName\n                    card {\n                    _id\n                    question\n                    answer\n                }\n            \n            }\n        }\n    }\n"]))),I()(w||(w=Object(q.a)(["\n    mutation addCard($question: String!, $answer: String!){\n        addCard(question: $question, answer: $answer){\n            set {\n                _id\n                setName\n                card {\n                    _id\n                    question\n                    answer\n                }\n            }\n        }\n    }\n    "]))),I()(x||(x=Object(q.a)(["\n    mutation removeSet($setName: String!){\n        removeSet(setName: $setName){\n            set {\n                _id\n                setName\n                card {\n                    _id\n                    question \n                    answer\n                }\n            }\n        }\n    }\n"]))),I()(k||(k=Object(q.a)(["\n    mutation removeCard($question: String!, $answer: String!){\n        removeCard(question: $question, answer: $answer){\n            set {\n                _id\n                setName \n                card {\n                    _id\n                    question\n                    answer\n                }\n            }\n        }\n    }\n"]))),function(){var e=Object(a.useState)({username:"",email:"",password:""}),n=Object(_.a)(e,2),t=n[0],r=n[1],i=Object(s.useMutation)(U),o=Object(_.a)(i,2),c=o[0],u=o[1].error,d=function(e){var n=e.target,a=n.name,i=n.value;r(Object(C.a)(Object(C.a)({},t),{},Object($.a)({},a,i)))},j=function(){var e=Object(N.a)(y.a.mark((function e(n){var a,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,c({variables:Object(C.a)({},t)});case 4:a=e.sent,i=a.data,console.log(i),m.login(i.addUser.token),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:r({username:"",email:"",password:""});case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(l.b,{to:"/login",children:"Login instead"}),Object(h.jsx)("h2",{children:"Sign Up Below"}),Object(h.jsx)("form",{onSubmit:j,children:Object(h.jsxs)("div",{children:[Object(h.jsx)("input",{className:"form-input",placeholder:"Your username",name:"username",type:"username",id:"username",onChange:d}),Object(h.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",onChange:d}),Object(h.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",onChange:d}),Object(h.jsx)("button",{type:"submit",children:"Finish Signup"})]})}),u&&Object(h.jsx)("div",{children:"Something Went Wrong"})]})});function L(){return Object(h.jsxs)("section",{className:"landing-container",children:[Object(h.jsx)("h3",{className:"landing-text",children:"You should join this app because you will learn things"}),Object(h.jsx)("button",{type:"submit",className:"login-btn",children:"Sign Me Up!"}),Object(h.jsx)("button",{type:"submit",className:"signup-btn",children:"Log Me In!"})]})}var M=function(e){var n=Object(a.useState)({email:"",password:""}),t=Object(_.a)(n,2),r=t[0],i=t[1],o=Object(s.useMutation)(T),c=Object(_.a)(o,2),u=c[0],d=c[1].error,j=function(e){var n=e.target,t=n.name,a=n.value;i(Object(C.a)(Object(C.a)({},r),{},Object($.a)({},t,a)))},b=function(){var e=Object(N.a)(y.a.mark((function e(n){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,u({variables:Object(C.a)({},r)});case 4:t=e.sent,a=t.data,m.login(a.login.token),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:i({email:"",password:""});case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(n){return e.apply(this,arguments)}}();return Object(h.jsxs)("div",{children:[Object(h.jsx)(l.b,{to:"/signup",children:"Sign-up instead"}),Object(h.jsx)("h2",{children:"Login Below"}),Object(h.jsxs)("form",{onSubmit:b,children:[Object(h.jsx)("input",{className:"form-input",placeholder:"Your email",name:"email",type:"email",id:"email",value:r.email,onChange:j}),Object(h.jsx)("input",{className:"form-input",placeholder:"******",name:"password",type:"password",id:"password",value:r.password,onChange:j}),Object(h.jsx)("button",{className:"btn d-block w-100",type:"submit",children:"Submit"})]}),d&&Object(h.jsx)("div",{children:"Something Went Wrong"})]})},B=new c.a({request:function(e){var n=localStorage.getItem("id_token");e.setContext({headers:{authorization:n?"Bearer ".concat(n):""}})},uri:"/graphql"});var E=function(){return Object(h.jsxs)(s.ApolloProvider,{client:B,children:[Object(h.jsxs)(l.a,{children:[Object(h.jsx)(p,{}),Object(h.jsxs)(u.c,{children:[Object(h.jsx)(u.a,{exact:!0,path:"/signup",component:A}),Object(h.jsx)(u.a,{exact:!0,path:"/login",component:M}),Object(h.jsx)(u.a,{exact:!0,path:"/",component:L})]})]}),Object(h.jsx)(g,{})]})},D=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function J(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(Object(h.jsx)(r.a.StrictMode,{children:Object(h.jsx)(E,{})}),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");D?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):J(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):J(n,e)}))}}()},94:function(e,n,t){},95:function(e,n,t){}},[[106,1,2]]]);
//# sourceMappingURL=main.41a36006.chunk.js.map